{"mappings":"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","sources":["<anon>","src/scripts/main.js"],"sourcesContent":["/* eslint-disable no-shadow */ \"use strict\";\nvar ACTIVE_ROW = \"active\";\nvar body = document.body;\nvar table = body.querySelector(\"table\");\nvar tableBody = table.querySelector(\"tbody\");\nvar rows = Array.from(table.querySelectorAll(\"tbody tr\"));\n// #region sort\nvar headers = table.querySelectorAll(\"th\");\nheaders.forEach(function(header, columnIndex) {\n    header.addEventListener(\"click\", function() {\n        var isAscending = header.classList.toggle(\"asc\");\n        var dataType = columnIndex === 3 || columnIndex === 4 ? \"number\" : \"string\";\n        var sortedRows = rows.sort(function(rowA, rowB) {\n            var cellA = rowA.cells[columnIndex].textContent.trim();\n            var cellB = rowB.cells[columnIndex].textContent.trim();\n            if (dataType === \"number\") {\n                var valueA = parseInt(cellA.replace(/\\$/g, \"\").replace(/,/g, \"\"), 10);\n                var valueB = parseInt(cellB.replace(/\\$/g, \"\").replace(/,/g, \"\"), 10);\n                return isAscending ? valueA - valueB : valueB - valueA;\n            } else return isAscending ? cellA.localeCompare(cellB) : cellB.localeCompare(cellA);\n        });\n        var tbody = table.querySelector(\"tbody\");\n        tbody.innerHTML = \"\";\n        sortedRows.forEach(function(row) {\n            tbody.appendChild(row);\n        });\n    });\n});\n// #endregion\n// #region selected TR\ntable.addEventListener(\"click\", function(e) {\n    var elem = e.target.closest(\"tbody tr\");\n    if (!elem) return;\n    if (elem.classList.contains(ACTIVE_ROW)) {\n        elem.classList.remove(ACTIVE_ROW);\n        return;\n    }\n    var previouslySelectedRow = table.querySelector(\"tr.active\");\n    if (previouslySelectedRow) previouslySelectedRow.classList.remove(ACTIVE_ROW);\n    elem.classList.add(ACTIVE_ROW);\n});\n// #endregion\n// #region add a form\nvar form = document.createElement(\"form\");\nform.classList.add(\"new-employee-form\");\nvar createElement = function(type, name, placeholder, dataQa) {\n    var label = document.createElement(\"label\");\n    label.innerHTML = \"\".concat(placeholder, \":\");\n    if (type === \"select\") {\n        var select = document.createElement(\"select\");\n        select.name = name;\n        select.dataset.qa = dataQa;\n        var options = [\n            \"Tokyo\",\n            \"Singapore\",\n            \"London\",\n            \"New York\",\n            \"Edinburgh\",\n            \"San Francisco\"\n        ];\n        options.forEach(function(optionText) {\n            var option = document.createElement(\"option\");\n            option.value = optionText.toLowerCase().replace(\" \", \"-\");\n            option.textContent = optionText;\n            select.appendChild(option);\n        });\n        label.appendChild(select);\n    } else {\n        var input = document.createElement(\"input\");\n        input.type = type;\n        input.name = name;\n        input.placeholder = placeholder;\n        input.dataset.qa = dataQa;\n        input.required = true;\n        label.appendChild(input);\n    }\n    form.appendChild(label);\n};\ncreateElement(\"text\", \"userName\", \"Name\", \"name\");\ncreateElement(\"text\", \"position\", \"Position\", \"position\");\ncreateElement(\"select\", \"office\", \"Office\", \"office\");\ncreateElement(\"number\", \"age\", \"Age\", \"age\");\ncreateElement(\"number\", \"salary\", \"Salary\", \"salary\");\nvar buttonSubmit = document.createElement(\"button\");\nbuttonSubmit.type = \"submit\";\nbuttonSubmit.innerHTML = \"Save to table\";\nform.appendChild(buttonSubmit);\nbody.appendChild(form);\n// #endregion\n// #region add a new employee to the table\nvar userNameInput = document.querySelector('[name=\"userName\"]');\nvar positionInput = document.querySelector('[name=\"position\"]');\nvar officeInput = document.querySelector('[name=\"office\"]');\nvar ageInput = document.querySelector('[name=\"age\"]');\nvar salaryInput = document.querySelector('[name=\"salary\"]');\nvar handleSubmit = function(e) {\n    e.preventDefault();\n    var name = formatName(userNameInput.value);\n    var position = formatName(positionInput.value);\n    var office = capitalizeCity(officeInput.value);\n    var age = ageInput.value;\n    var salary = parseFloat(salaryInput.value);\n    var VALID_NAME = name.length < 4;\n    var VALID_YOUNG = age < 18;\n    var VALID_OLD = age > 90;\n    var VALID_SALARY = salary < 0;\n    if (VALID_NAME) {\n        pushNotification(\"Error message -_-\", \"Name must be at least 4 letters long.\", \"error\");\n        return;\n    }\n    if (VALID_YOUNG) {\n        pushNotification(\"Error message -_-\", \"You are not old enough to view this content!\", \"error\");\n        return;\n    }\n    if (VALID_OLD) {\n        pushNotification(\"Error message -_-\", \"You are too old to view this content!\", \"error\");\n        return;\n    }\n    if (VALID_SALARY) {\n        pushNotification(\"Error message -_-\", \"You cannot earn a negative amount! Only if you are a slave...\", \"error\");\n        return;\n    }\n    var newRow = tableBody.insertRow();\n    var cellName = newRow.insertCell(0);\n    var cellPosition = newRow.insertCell(1);\n    var cellOffice = newRow.insertCell(2);\n    var cellAge = newRow.insertCell(3);\n    var cellSalary = newRow.insertCell(4);\n    cellName.textContent = name;\n    cellPosition.textContent = position;\n    cellOffice.textContent = office;\n    cellAge.textContent = age;\n    cellSalary.textContent = \"$\".concat(formatSalary(salary));\n    rows.push(newRow);\n    form.reset();\n    pushNotification(\"Success!!!\", 'Success! Your task was completed faster than you can say \"supercalifragilisticexpialidocious!\"', \"success\");\n};\nvar formatName = function(input) {\n    return input.trim().replace(/\\b\\w/g, function(char) {\n        return char.toUpperCase();\n    });\n};\nvar capitalizeCity = function(city) {\n    return city.split(/[-\\s]/).map(function(word) {\n        return word.charAt(0).toUpperCase() + word.slice(1).toLowerCase();\n    }).join(\" \");\n};\nvar formatSalary = function(salary) {\n    return parseFloat(salary).toLocaleString(\"en-US\");\n};\n// #endregion\n// #region Show notification\nvar pushNotification = function(title, description, type) {\n    if (!type) return;\n    var notification = document.createElement(\"div\");\n    var titleElement = document.createElement(\"h2\");\n    var descriptionElement = document.createElement(\"p\");\n    notification.classList.add(\"notification\", type);\n    titleElement.classList.add(\"title\");\n    titleElement.innerText = title;\n    descriptionElement.innerText = description;\n    notification.setAttribute(\"data-qa\", \"notification\");\n    notification.appendChild(titleElement);\n    notification.appendChild(descriptionElement);\n    body.appendChild(notification);\n    hiddenNotification(notification);\n};\nvar hiddenNotification = function(elem) {\n    setTimeout(function() {\n        elem.style.visibility = \"hidden\";\n    }, 3000);\n};\npushNotification(\"Success!!!\", 'Success! Your task was completed faster than you can say \"supercalifragilisticexpialidocious!\"', \"success\");\npushNotification(\"Error message -_-\", \"You cannot earn a negative amount! Only if you are a slave...\", \"error\");\nform.addEventListener(\"submit\", handleSubmit);\n// #endregion\n// #region editing of table cells\nvar currentInput = null;\ntable.addEventListener(\"dblclick\", function(event) {\n    var target = event.target;\n    if (target.tagName === \"TD\" && !currentInput) {\n        var initialValue = target.textContent.trim();\n        var input = document.createElement(\"input\");\n        input.type = \"text\";\n        input.value = initialValue;\n        input.classList.add(\"cell-input\");\n        target.textContent = \"\";\n        target.appendChild(input);\n        input.focus();\n        currentInput = input;\n        input.addEventListener(\"blur\", function() {\n            saveChanges(target, input, initialValue);\n        });\n        input.addEventListener(\"keypress\", function(event) {\n            if (event.key === \"Enter\") saveChanges(target, input, initialValue);\n        });\n    }\n});\nfunction saveChanges(target, input, initialValue) {\n    var newValue = input.value.trim();\n    var columnIndex = target.cellIndex;\n    if (validateInput(newValue, columnIndex)) {\n        if (columnIndex === 4) target.textContent = saveFormatSalary(newValue);\n        else target.textContent = newValue === \"\" ? initialValue : newValue;\n    } else {\n        alert(\"Invalid input. Please enter a valid value.\");\n        target.textContent = initialValue;\n    }\n    currentInput = null;\n}\nfunction validateInput(value, columnIndex) {\n    switch(columnIndex){\n        case 3:\n            return !isNaN(value) && Number.isInteger(parseFloat(value)) && value !== \"\";\n        case 4:\n            return /^\\$?[\\d,]+(\\.\\d{2})?$/.test(value);\n        default:\n            return true;\n    }\n}\nfunction saveFormatSalary(value) {\n    var num = value.replace(/[^0-9.-]+/g, \"\");\n    var parts = num.split(\".\");\n    parts[0] = parts[0].replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\n    return \"$\" + parts.join(\".\");\n} // #endregion\n\n//# sourceMappingURL=index.0d3128ef.js.map\n","/* eslint-disable no-shadow */\n'use strict';\n\nconst ACTIVE_ROW = 'active';\n\nconst body = document.body;\nconst table = body.querySelector('table');\nconst tableBody = table.querySelector('tbody');\nconst rows = Array.from(table.querySelectorAll('tbody tr'));\n\n// #region sort\nconst headers = table.querySelectorAll('th');\n\nheaders.forEach((header, columnIndex) => {\n  header.addEventListener('click', () => {\n    const isAscending = header.classList.toggle('asc');\n    const dataType =\n      columnIndex === 3 || columnIndex === 4 ? 'number' : 'string';\n\n    const sortedRows = rows.sort((rowA, rowB) => {\n      const cellA = rowA.cells[columnIndex].textContent.trim();\n      const cellB = rowB.cells[columnIndex].textContent.trim();\n\n      if (dataType === 'number') {\n        const valueA = parseInt(cellA.replace(/\\$/g, '').replace(/,/g, ''), 10);\n        const valueB = parseInt(cellB.replace(/\\$/g, '').replace(/,/g, ''), 10);\n\n        return isAscending ? valueA - valueB : valueB - valueA;\n      } else {\n        return isAscending\n          ? cellA.localeCompare(cellB)\n          : cellB.localeCompare(cellA);\n      }\n    });\n\n    const tbody = table.querySelector('tbody');\n\n    tbody.innerHTML = '';\n\n    sortedRows.forEach((row) => {\n      tbody.appendChild(row);\n    });\n  });\n});\n// #endregion\n\n// #region selected TR\ntable.addEventListener('click', (e) => {\n  const elem = e.target.closest('tbody tr');\n\n  if (!elem) {\n    return;\n  }\n\n  if (elem.classList.contains(ACTIVE_ROW)) {\n    elem.classList.remove(ACTIVE_ROW);\n\n    return;\n  }\n\n  const previouslySelectedRow = table.querySelector('tr.active');\n\n  if (previouslySelectedRow) {\n    previouslySelectedRow.classList.remove(ACTIVE_ROW);\n  }\n\n  elem.classList.add(ACTIVE_ROW);\n});\n// #endregion\n\n// #region add a form\nconst form = document.createElement('form');\n\nform.classList.add('new-employee-form');\n\nconst createElement = (type, name, placeholder, dataQa) => {\n  const label = document.createElement('label');\n\n  label.innerHTML = `${placeholder}:`;\n\n  if (type === 'select') {\n    const select = document.createElement('select');\n\n    select.name = name;\n    select.dataset.qa = dataQa;\n\n    const options = [\n      'Tokyo',\n      'Singapore',\n      'London',\n      'New York',\n      'Edinburgh',\n      'San Francisco',\n    ];\n\n    options.forEach((optionText) => {\n      const option = document.createElement('option');\n\n      option.value = optionText.toLowerCase().replace(' ', '-');\n      option.textContent = optionText;\n      select.appendChild(option);\n    });\n\n    label.appendChild(select);\n  } else {\n    const input = document.createElement('input');\n\n    input.type = type;\n    input.name = name;\n    input.placeholder = placeholder;\n    input.dataset.qa = dataQa;\n    input.required = true;\n\n    label.appendChild(input);\n  }\n\n  form.appendChild(label);\n};\n\ncreateElement('text', 'userName', 'Name', 'name');\ncreateElement('text', 'position', 'Position', 'position');\ncreateElement('select', 'office', 'Office', 'office');\ncreateElement('number', 'age', 'Age', 'age');\ncreateElement('number', 'salary', 'Salary', 'salary');\n\nconst buttonSubmit = document.createElement('button');\n\nbuttonSubmit.type = 'submit';\nbuttonSubmit.innerHTML = 'Save to table';\nform.appendChild(buttonSubmit);\n\nbody.appendChild(form);\n\n// #endregion\n\n// #region add a new employee to the table\nconst userNameInput = document.querySelector('[name=\"userName\"]');\nconst positionInput = document.querySelector('[name=\"position\"]');\nconst officeInput = document.querySelector('[name=\"office\"]');\nconst ageInput = document.querySelector('[name=\"age\"]');\nconst salaryInput = document.querySelector('[name=\"salary\"]');\n\nconst handleSubmit = (e) => {\n  e.preventDefault();\n\n  const name = formatName(userNameInput.value);\n  const position = formatName(positionInput.value);\n  const office = capitalizeCity(officeInput.value);\n  const age = ageInput.value;\n  const salary = parseFloat(salaryInput.value);\n\n  const VALID_NAME = name.length < 4;\n  const VALID_YOUNG = age < 18;\n  const VALID_OLD = age > 90;\n  const VALID_SALARY = salary < 0;\n\n  if (VALID_NAME) {\n    pushNotification(\n      'Error message -_-',\n      'Name must be at least 4 letters long.',\n      'error',\n    );\n\n    return;\n  }\n\n  if (VALID_YOUNG) {\n    pushNotification(\n      'Error message -_-',\n      'You are not old enough to view this content!',\n      'error',\n    );\n\n    return;\n  }\n\n  if (VALID_OLD) {\n    pushNotification(\n      'Error message -_-',\n      'You are too old to view this content!',\n      'error',\n    );\n\n    return;\n  }\n\n  if (VALID_SALARY) {\n    pushNotification(\n      'Error message -_-',\n      'You cannot earn a negative amount! Only if you are a slave...',\n      'error',\n    );\n\n    return;\n  }\n\n  const newRow = tableBody.insertRow();\n\n  const cellName = newRow.insertCell(0);\n  const cellPosition = newRow.insertCell(1);\n  const cellOffice = newRow.insertCell(2);\n  const cellAge = newRow.insertCell(3);\n  const cellSalary = newRow.insertCell(4);\n\n  cellName.textContent = name;\n  cellPosition.textContent = position;\n  cellOffice.textContent = office;\n  cellAge.textContent = age;\n\n  cellSalary.textContent = `$${formatSalary(salary)}`;\n\n  rows.push(newRow);\n\n  form.reset();\n\n  pushNotification(\n    'Success!!!',\n    `Success! Your task was completed faster than you can say \"supercalifragilisticexpialidocious!\"`,\n    'success',\n  );\n};\n\nconst formatName = (input) => {\n  return input.trim().replace(/\\b\\w/g, (char) => char.toUpperCase());\n};\n\nconst capitalizeCity = (city) => {\n  return city\n    .split(/[-\\s]/)\n    .map((word) => word.charAt(0).toUpperCase() + word.slice(1).toLowerCase())\n    .join(' ');\n};\n\nconst formatSalary = (salary) => {\n  return parseFloat(salary).toLocaleString('en-US');\n};\n\n// #endregion\n\n// #region Show notification\nconst pushNotification = (title, description, type) => {\n  if (!type) {\n    return;\n  }\n\n  const notification = document.createElement('div');\n  const titleElement = document.createElement('h2');\n  const descriptionElement = document.createElement('p');\n\n  notification.classList.add('notification', type);\n  titleElement.classList.add('title');\n\n  titleElement.innerText = title;\n  descriptionElement.innerText = description;\n  notification.setAttribute('data-qa', 'notification');\n\n  notification.appendChild(titleElement);\n  notification.appendChild(descriptionElement);\n  body.appendChild(notification);\n\n  hiddenNotification(notification);\n};\n\nconst hiddenNotification = (elem) => {\n  setTimeout(() => {\n    elem.style.visibility = 'hidden';\n  }, 3000);\n};\n\npushNotification(\n  'Success!!!',\n  `Success! Your task was completed faster than you can say \"supercalifragilisticexpialidocious!\"`,\n  'success',\n);\n\npushNotification(\n  'Error message -_-',\n  'You cannot earn a negative amount! Only if you are a slave...',\n  'error',\n);\n\nform.addEventListener('submit', handleSubmit);\n\n// #endregion\n\n// #region editing of table cells\n\nlet currentInput = null;\n\ntable.addEventListener('dblclick', function (event) {\n  const target = event.target;\n\n  if (target.tagName === 'TD' && !currentInput) {\n    const initialValue = target.textContent.trim();\n    const input = document.createElement('input');\n\n    input.type = 'text';\n    input.value = initialValue;\n    input.classList.add('cell-input');\n\n    target.textContent = '';\n    target.appendChild(input);\n    input.focus();\n\n    currentInput = input;\n\n    input.addEventListener('blur', function () {\n      saveChanges(target, input, initialValue);\n    });\n\n    input.addEventListener('keypress', function (event) {\n      if (event.key === 'Enter') {\n        saveChanges(target, input, initialValue);\n      }\n    });\n  }\n});\n\nfunction saveChanges(target, input, initialValue) {\n  const newValue = input.value.trim();\n  const columnIndex = target.cellIndex;\n\n  if (validateInput(newValue, columnIndex)) {\n    if (columnIndex === 4) {\n      target.textContent = saveFormatSalary(newValue);\n    } else {\n      target.textContent = newValue === '' ? initialValue : newValue;\n    }\n  } else {\n    alert('Invalid input. Please enter a valid value.');\n    target.textContent = initialValue;\n  }\n\n  currentInput = null;\n}\n\nfunction validateInput(value, columnIndex) {\n  switch (columnIndex) {\n    case 3:\n      return (\n        !isNaN(value) && Number.isInteger(parseFloat(value)) && value !== ''\n      );\n    case 4:\n      return /^\\$?[\\d,]+(\\.\\d{2})?$/.test(value);\n    default:\n      return true;\n  }\n}\n\nfunction saveFormatSalary(value) {\n  const num = value.replace(/[^0-9.-]+/g, '');\n  const parts = num.split('.');\n\n  parts[0] = parts[0].replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',');\n\n  return '$' + parts.join('.');\n}\n\n// #endregion\n"],"names":["ACTIVE_ROW","body","document","table","querySelector","tableBody","rows","Array","from","querySelectorAll","headers","forEach","header","columnIndex","addEventListener","isAscending","classList","toggle","dataType","sortedRows","sort","rowA","rowB","cellA","cells","textContent","trim","cellB","localeCompare","valueA","parseInt","replace","valueB","tbody","innerHTML","row","appendChild","e","elem","target","closest","contains","remove","previouslySelectedRow","add","form","createElement","type","name","placeholder","dataQa","label","concat","select","dataset","qa","options","optionText","option","value","toLowerCase","input","required","buttonSubmit","userNameInput","positionInput","officeInput","ageInput","salaryInput","formatName","char","toUpperCase","pushNotification","title","description","notification","titleElement","descriptionElement","innerText","setAttribute","hiddenNotification","setTimeout","style","visibility","preventDefault","position","office","city","split","map","word","charAt","slice","join","age","salary","parseFloat","length","newRow","insertRow","cellName","insertCell","cellPosition","cellOffice","cellAge","cellSalary","toLocaleString","push","reset","currentInput","saveChanges","initialValue","parts","newValue","cellIndex","validateInput","isNaN","Number","isInteger","test","alert","num","event","tagName","focus","key"],"version":3,"file":"index.0d3128ef.js.map"}