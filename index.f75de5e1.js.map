{"mappings":"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","sources":["src/scripts/main.js"],"sourcesContent":["/* eslint-disable no-shadow */\n'use strict';\n\nconst ACTIVE_ROW = 'active';\n\nconst body = document.body;\nconst table = body.querySelector('table');\nconst tableBody = table.querySelector('tbody');\nconst rows = Array.from(table.querySelectorAll('tbody tr'));\n\n// #region sort\nconst headers = table.querySelectorAll('th');\n\nheaders.forEach((header, columnIndex) => {\n  header.addEventListener('click', () => {\n    const isAscending = header.classList.toggle('asc');\n    const dataType =\n      columnIndex === 3 || columnIndex === 4 ? 'number' : 'string';\n\n    const sortedRows = rows.sort((rowA, rowB) => {\n      const cellA = rowA.cells[columnIndex].textContent.trim();\n      const cellB = rowB.cells[columnIndex].textContent.trim();\n\n      if (dataType === 'number') {\n        const valueA = parseInt(cellA.replace(/\\$/g, '').replace(/,/g, ''), 10);\n        const valueB = parseInt(cellB.replace(/\\$/g, '').replace(/,/g, ''), 10);\n\n        return isAscending ? valueA - valueB : valueB - valueA;\n      } else {\n        return isAscending\n          ? cellA.localeCompare(cellB)\n          : cellB.localeCompare(cellA);\n      }\n    });\n\n    const tbody = table.querySelector('tbody');\n\n    tbody.innerHTML = '';\n\n    sortedRows.forEach((row) => {\n      tbody.appendChild(row);\n    });\n  });\n});\n// #endregion\n\n// #region selected TR\ntable.addEventListener('click', (e) => {\n  const elem = e.target.closest('tbody tr');\n\n  if (!elem) {\n    return;\n  }\n\n  if (elem.classList.contains(ACTIVE_ROW)) {\n    elem.classList.remove(ACTIVE_ROW);\n\n    return;\n  }\n\n  const previouslySelectedRow = table.querySelector('tr.active');\n\n  if (previouslySelectedRow) {\n    previouslySelectedRow.classList.remove(ACTIVE_ROW);\n  }\n\n  elem.classList.add(ACTIVE_ROW);\n});\n// #endregion\n\n// #region add a form\nconst form = document.createElement('form');\n\nform.classList.add('new-employee-form');\n\nconst createElement = (type, name, placeholder, dataQa) => {\n  const label = document.createElement('label');\n\n  label.innerHTML = `${placeholder}:`;\n\n  if (type === 'select') {\n    const select = document.createElement('select');\n\n    select.name = name;\n    select.dataset.qa = dataQa;\n\n    const options = [\n      'Tokyo',\n      'Singapore',\n      'London',\n      'New York',\n      'Edinburgh',\n      'San Francisco',\n    ];\n\n    options.forEach((optionText) => {\n      const option = document.createElement('option');\n\n      option.value = optionText.toLowerCase().replace(' ', '-');\n      option.textContent = optionText;\n      select.appendChild(option);\n    });\n\n    label.appendChild(select);\n  } else {\n    const input = document.createElement('input');\n\n    input.type = type;\n    input.name = name;\n    input.placeholder = placeholder;\n    input.dataset.qa = dataQa;\n    input.required = true;\n\n    label.appendChild(input);\n  }\n\n  form.appendChild(label);\n};\n\ncreateElement('text', 'userName', 'Name', 'name');\ncreateElement('text', 'position', 'Position', 'position');\ncreateElement('select', 'office', 'Office', 'office');\ncreateElement('number', 'age', 'Age', 'age');\ncreateElement('number', 'salary', 'Salary', 'salary');\n\nconst buttonSubmit = document.createElement('button');\n\nbuttonSubmit.type = 'submit';\nbuttonSubmit.innerHTML = 'Save to table';\nform.appendChild(buttonSubmit);\n\nbody.appendChild(form);\n\n// #endregion\n\n// #region add a new employee to the table\nconst userNameInput = document.querySelector('[name=\"userName\"]');\nconst positionInput = document.querySelector('[name=\"position\"]');\nconst officeInput = document.querySelector('[name=\"office\"]');\nconst ageInput = document.querySelector('[name=\"age\"]');\nconst salaryInput = document.querySelector('[name=\"salary\"]');\n\nconst handleSubmit = (e) => {\n  e.preventDefault();\n\n  const name = formatName(userNameInput.value);\n  const position = formatName(positionInput.value);\n  const office = capitalizeCity(officeInput.value);\n  const age = ageInput.value;\n  const salary = parseFloat(salaryInput.value);\n\n  const VALID_NAME = name.length < 4;\n  const VALID_YOUNG = age < 18;\n  const VALID_OLD = age > 90;\n  const VALID_SALARY = salary < 0;\n\n  if (VALID_NAME) {\n    pushNotification(\n      'Error message -_-',\n      'Name must be at least 4 letters long.',\n      'error',\n    );\n\n    return;\n  }\n\n  if (VALID_YOUNG) {\n    pushNotification(\n      'Error message -_-',\n      'You are not old enough to view this content!',\n      'error',\n    );\n\n    return;\n  }\n\n  if (VALID_OLD) {\n    pushNotification(\n      'Error message -_-',\n      'You are too old to view this content!',\n      'error',\n    );\n\n    return;\n  }\n\n  if (VALID_SALARY) {\n    pushNotification(\n      'Error message -_-',\n      'You cannot earn a negative amount! Only if you are a slave...',\n      'error',\n    );\n\n    return;\n  }\n\n  const newRow = tableBody.insertRow();\n\n  const cellName = newRow.insertCell(0);\n  const cellPosition = newRow.insertCell(1);\n  const cellOffice = newRow.insertCell(2);\n  const cellAge = newRow.insertCell(3);\n  const cellSalary = newRow.insertCell(4);\n\n  cellName.textContent = name;\n  cellPosition.textContent = position;\n  cellOffice.textContent = office;\n  cellAge.textContent = age;\n\n  cellSalary.textContent = `$${formatSalary(salary)}`;\n\n  rows.push(newRow);\n\n  form.reset();\n\n  pushNotification(\n    'Success!!!',\n    `Success! Your task was completed faster than you can say \"supercalifragilisticexpialidocious!\"`,\n    'success',\n  );\n};\n\nconst formatName = (input) => {\n  return input.trim().replace(/\\b\\w/g, (char) => char.toUpperCase());\n};\n\nconst capitalizeCity = (city) => {\n  return city\n    .split(/[-\\s]/)\n    .map((word) => word.charAt(0).toUpperCase() + word.slice(1).toLowerCase())\n    .join(' ');\n};\n\nconst formatSalary = (salary) => {\n  return parseFloat(salary).toLocaleString('en-US');\n};\n\n// #endregion\n\n// #region Show notification\nconst pushNotification = (title, description, type) => {\n  if (!type) {\n    return;\n  }\n\n  const notification = document.createElement('div');\n  const titleElement = document.createElement('h2');\n  const descriptionElement = document.createElement('p');\n\n  notification.classList.add('notification', type);\n  titleElement.classList.add('title');\n\n  titleElement.innerText = title;\n  descriptionElement.innerText = description;\n  notification.setAttribute('data-qa', 'notification');\n\n  notification.appendChild(titleElement);\n  notification.appendChild(descriptionElement);\n  body.appendChild(notification);\n\n  hiddenNotification(notification);\n};\n\nconst hiddenNotification = (elem) => {\n  setTimeout(() => {\n    elem.style.visibility = 'hidden';\n  }, 3000);\n};\n\npushNotification(\n  'Success!!!',\n  `Success! Your task was completed faster than you can say \"supercalifragilisticexpialidocious!\"`,\n  'success',\n);\n\npushNotification(\n  'Error message -_-',\n  'You cannot earn a negative amount! Only if you are a slave...',\n  'error',\n);\n\nform.addEventListener('submit', handleSubmit);\n\n// #endregion\n\n// #region editing of table cells\n\nlet currentInput = null;\n\ntable.addEventListener('dblclick', function (event) {\n  const target = event.target;\n\n  if (target.tagName === 'TD' && !currentInput) {\n    const initialValue = target.textContent.trim();\n    const input = document.createElement('input');\n\n    input.type = 'text';\n    input.value = initialValue;\n    input.classList.add('cell-input');\n\n    target.textContent = '';\n    target.appendChild(input);\n    input.focus();\n\n    currentInput = input;\n\n    input.addEventListener('blur', function () {\n      saveChanges(target, input, initialValue);\n    });\n\n    input.addEventListener('keypress', function (event) {\n      if (event.key === 'Enter') {\n        saveChanges(target, input, initialValue);\n      }\n    });\n  }\n});\n\nfunction saveChanges(target, input, initialValue) {\n  const newValue = input.value.trim();\n  const columnIndex = target.cellIndex;\n\n  if (validateInput(newValue, columnIndex)) {\n    if (columnIndex === 4) {\n      target.textContent = saveFormatSalary(newValue);\n    } else {\n      target.textContent = newValue === '' ? initialValue : newValue;\n    }\n  } else {\n    alert('Invalid input. Please enter a valid value.');\n    target.textContent = initialValue;\n  }\n\n  currentInput = null;\n}\n\nfunction validateInput(value, columnIndex) {\n  switch (columnIndex) {\n    case 3:\n      return (\n        !isNaN(value) && Number.isInteger(parseFloat(value)) && value !== ''\n      );\n    case 4:\n      return /^\\$?[\\d,]+(\\.\\d{2})?$/.test(value);\n    default:\n      return true;\n  }\n}\n\nfunction saveFormatSalary(value) {\n  const num = value.replace(/[^0-9.-]+/g, '');\n  const parts = num.split('.');\n\n  parts[0] = parts[0].replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',');\n\n  return '$' + parts.join('.');\n}\n\n// #endregion\n"],"names":[],"version":3,"file":"index.f75de5e1.js.map","sourceRoot":"/__parcel_source_root/"}